function savePerson(){if($(".dirty_input.people").length!=0&&$("#person__person_id").val()){var c={id:$("#person__person_id").val(),cls:"person",data:{}};var b=$(".dirty_input.people");for(var a=0;a<b.length;a++){c.data[b[a].id.replace("person__","")]=$(b[a]).val()}$.ajax({url:uri+"/svc/update",type:"POST",dataType:"json",data:c,async:true,success:function(d){if(d!=-1){clearInputs("#people_center input.people, #people_center textarea.people, #people_center select.people, #people_center div.readonly");loadPersonRecord(d,"person")}else{alert("Error on saving person.")}}})}if($(".dirty_input.address").length!=0){if($("#address__address_id").val()){var c={id:$("#address__address_id").val(),cls:"address",data:{}};var b=$(".dirty_input.address");for(var a=0;a<b.length;a++){c.data[b[a].id.replace("address__","")]=$(b[a]).val()}$.ajax({url:uri+"/svc/update",type:"POST",dataType:"json",data:c,async:true,success:function(d){if(d!=-1){clearInputs("#people_center input.address. #people_center. div.readonly.address");loadPersonRecord(d,"address")}else{alert("Error on saving address.")}}})}else{if($("#person__person_id").val()){var c={id:$("#address__address_id").val(),cls:"address",data:{person_id:$("#person__person_id").val()}};var b=$(".dirty_input.address");for(var a=0;a<b.length;a++){c.data[b[a].id]=$(b[a]).val()}$.ajax({url:uri+"/svc/create",type:"POST",dataType:"json",data:c,async:true,success:function(d){if(d!=-1){clearInputs("#people_center input.address, #people_center div.readonly.address");loadPersonRecord(d,"address")}else{alert("Error on creating address.")}}})}}}}function changePassword(){var b=prompt("Enter new password.");var a=prompt("Confirm new password.");if(b==a){$.ajax({url:uri+"/svc/update",type:"POST",dataType:"json",data:{cls:"person",id:$("#person__person_id").val(),data:{password:b}},async:true,success:function(c){if(c!=-1){alert("Success!")}else{alert("Password change failed.")}}})}else{alert("Passwords do not match.")}};